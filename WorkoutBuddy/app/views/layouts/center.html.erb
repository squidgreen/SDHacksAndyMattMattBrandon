<!DOCTYPE html>
<html>
<head>
<script src="http://maps.googleapis.com/maps/api/js"></script>
<%= javascript_include_tag 'center', 'data-turbolinks-track' => true %>
<%= stylesheet_link_tag 'center', media: 'all',
    'data-turbolinks-track' => true %>
<%= csrf_meta_tags %>
</head>

<body class="<%= controller_name %> <%=action_name %>">
    <nav class="tab-bar">
      <button class="tab-btn tab-1 selected">Map</button>
      <button class="tab-btn tab-2">Equipment</button>
      <button class="tab-btn tab-3">Diet</button>
      <button class="tab-btn tab-4">Others</button>
      <%= link_to "Log out", logout_path, method: "delete"%>
    </nav>

    <%= yield %>

	
</body>

<script>

google.maps.event.addDomListener(window, 'load', function(){
//tab bar controller
	var tabBtns = document.querySelectorAll('.tab-bar > .tab-btn');

	for(var i = 0; i < tabBtns.length; i++) {   tabBtns[i].addEventListener('click', onTabClick, true);
	}

	function onTabClick(e) {
	var currentTab = document.querySelector('.tab-bar > .tab-btn.selected');
	if(currentTab) {
	  currentTab.classList.remove('selected');
	}
	var btn = e.target;
	btn.classList.add('selected');
	}
	
	
});

</script>

</html>
